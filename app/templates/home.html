{% extends "layout.html" %}

{% block title %}<title>KcaVibes - Where home is</title>{% endblock %}

{% block content %}
<div class="height-px-85 db"></div>
<div class="pos-rel db border-b bg-primary" id="introSectionContainer">
  <div class="flex-justify-center" id="introSection">
    <div class="m-t-0 m-b-0 m-s-24 m-e-24 max-width-1200 width-100">
      <div class="width-100 flex">
        <div class="width-100 height-100 p-t-90 p-b-90 flex-column">
          <div class="m-b-36 db">
            <h2 class="l-s lh-72 fs-72 color-black margin-0">Together, We Thrive.</h2>
          </div>
          <div class="width-100 m-b-48">
            <h3 class="fs-24 lh-24 color-black margin-0">Discover stories, Connect, and Share with fellow students</h3>
          </div>
          <div class="db">
            <button class="getStartedButton fs-20 width-px-200 p-t-8 p-b-8 p-s-20 p-e-20 lh-20 ta-center dib bg-color-black color-white border-none border-rd-32 margin-0 fw-800">
              Explore
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="db bg-color-white" id="postSection">
  <div class="flex-justify-center">
    <div class="m-t-0 m-b-0 m-s-24 m-e-24 max-width-1200 min-width-0">
      <div>
        <section class="db">
          <div class="db">
            <div class="db">
              <div class="p-t-12 p-b-12 db">
                {% for post in posts %}
                <div class="width-100 height-100">
                  <div class="m-b-12">
                    <div class="margin-0 padding-0 flex-align-center-just-btn">
                      <div class="m-e-20 width-100 db">
                        <div class="db p-b-8">
                          <div class="flex-align-center">
                            <div>
                              {% if post.author.to_use_gravatar %}
                              <a href="{{ url_for('main.user', username=post.author.username) }}">
                                <img  class="width-px-20 height-px-20" src="{{ post.author.generate_gravatar_url() }}" alt="profile picture">
                              </a>
                              {% else %}
                              <a href="{{ url_for('main.user', username=post.author.username) }}">
                                <img  class="width-px-20 height-px-20 border-rd-4" src="{{ post.author.profile_picture_url }}" alt="profile picture">
                              </a>
                              {% endif %}
                            </div>
                            <div class="m-s-8 flex-align-center flex-wrap">
                              <div class="height-px-16 l-s webkit-line-1">{{ post.author.fullname }}</div>
                            </div>
                          </div>
                        </div>
                        <a href="{{ url_for('main.post', post_id=post.uniquePostId) }}" class="margin-0 padding-0 l-s ">
                          <h2 class="max-height-40 lh-20 fs-18 webkit-line-2 margin-0 color-black fw-800">{{ post.body }}</h2>
                        </a>
                        <div class="p-t-4 flex-align-center-just-btn">
                          <div>
                            <a href="#"><p class="datePosted fs-13 color-gray-600">{{ post.timestamp }}</p></a>
                          </div>
                          <div><i class="bi bi-three-dots fs-20 color-gray-600"></i></div>
                        </div>
                      </div>
                      {% if post.imageName %}
                      <a href="{{ url_for('main.post', post_id=post.uniquePostId) }}" class="webkit-line-1">
                        <img src="{{ url_for('main.serve_image', filename=post.imageName) }}" class="" alt="love kcavibes" width="100" height="100" loading="lazy">
                      </a>
                      {% else %}
                      <img src="" alt="" style="display: none;">
                      {% endif %}
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
  <div>Footer</div>
</div>
{% endblock %}

<section class="home_posts-section" id="posts-section">
  <div class="container">
    <div class="inner-body-container">
      <main class="main-section">
        <div class="main-container">
          <div class="posts-section">
            <div class="inner-posts-section">
              {% for post in posts %}
              <article>
                <div class="article-container">
                  <div class="inner-article-container">
                    <div class="inner-article-container2">
                      <div class="date-section">
                        <div class="profile-container">
                          <button id="profile-button" class="profile-container-btn">
                            <div class="profile_picture_div">
                              {% if post.author.to_use_gravatar %}
                              <a href="{{ url_for('main.user', username=post.author.username) }}">
                                <img  class="profile_picture_img" src="{{ post.author.generate_gravatar_url() }}" alt="profile picture">
                              </a>
                              {% else %}
                              <a href="{{ url_for('main.user', username=post.author.username) }}">
                                <img  class="profile_picture_img" src="{{ post.author.profile_picture_url }}" alt="profile picture">
                              </a>
                              {% endif %}
                            </div> 
                          </button>
                        </div>
                        <div class="username-postDate">
                          <div class="username"><p>{{ post.author.fullname }}</p></div>
                          <div class="date">
                            <div class="postDate">
                              <a href="#"><p class="datePosted">{{ post.timestamp }}</p></a>
                            </div>
                            <div class="authenticated-user"><i class="bi bi-stars"></i></div>
                          </div>
                        </div>
                      </div>
                      <div class="text-container-side">
                        <div class="text-section">
                          <div class="inner-text-section">
                            <div class="top-section">
                              <a href="#">
                                {% if post.title %}
                                <div class="heading"><h2>{{ post.title }}</h2></div>
                                {% else %}
                                <div class="heading" style="display: none;"></div>
                                {% endif %}
                                <div class="paragraph">
                                  <p>{{ post.body }}</p>
                                </div>
                              </a>
                            </div>
                            {% if post.imageName %}
                            <div class="image-container-side">
                              <a href="#">
                                <img src="{{ url_for('main.serve_image', filename=post.imageName) }}" alt="{{ post.imageName }}">
                              </a>
                            </div>
                            {% else %}
                            <div class="image-container-side" style="display: none;"></div>
                            {% endif %}
                          </div>
                        </div>
                        <div class="bottom-section">
                          <div class="inner-container">
                            <div class="time-section">
                              {% if post.topic %}
                              <div class="button-section">
                                <a href="#"><div>{{ post.topic }}</div></a>
                              </div>
                              {% else %}
                              <div class="button-section" style="display: none;"></div>
                              {% endif %}
                            </div>
                            <div class="bmk-section home-bmk-section">
                              <div><i class="bi bi-bookmark-plus"></i></div>
                              <div><i class="bi bi-dash-circle"></i></div>
                              <div><i class="bi bi-three-dots"></i></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </article>
              {% endfor %}
            </div>
          </div>
        </div>
      </main>
      <div class="secondary-section"></div>
    </div>
  </div>
</section>