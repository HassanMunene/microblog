{% extends "layout.html" %}

{% block title %}<title>KcaVibes - Where home is</title>{% endblock %}

{% block content %}
<section id="intro-section" class="intro-section">
  <div class="container">
    <div class="row align-items-center justify-content-between">
      <div class="col-md-6 intros">
        <h1 class="display-2">
          <span class="display-2-intro">Together, We Thrive</span>
          <p class="display-2-description">Discover stories, Connect, and Share with fellow students</p>
        </h1>
        <button type="button" class="nav-item rounded-pill btn-rounded btn-home">
          <a href="#" id="getStartedLink" data-bs-toggle="modal" data-bs-target="#get-started-modal">Start reading</a>
        </button>
      </div>

      <div class="col-md-4 intros">
        <div class="video-box">
          <img src="../static/assets/images/intro-section.png" alt="video illustration" class="img-fluid">
          <a href="#" class="glightbox">
            <span class="tt" data-bs-placement="top" title="Watch our history">
              <img src="../static/assets/images/play-circle.svg" alt="play button" class="img-fluid"> 
            </span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="home_posts-section" id="posts-section">
  <div class="container">
    <div class="inner-body-container">
      <main class="main-section">
        <div class="main-container">
          <div class="posts-section">
            <div class="inner-posts-section">
              {% for post in posts %}
              <article>
                <div class="article-container">
                  <div class="inner-article-container">
                    <div class="inner-article-container2">
                      <div class="date-section">
                        <div class="profile-container">
                          <button id="profile-button" class="profile-container-btn">
                            <div class="profile_picture_div">
                              {% if post.author.to_use_gravatar %}
                              <a href="{{ url_for('main.user', username=post.author.username) }}">
                                <img  class="profile_picture_img" src="{{ post.author.generate_gravatar_url() }}" alt="profile picture">
                              </a>
                              {% else %}
                              <a href="{{ url_for('main.user', username=post.author.username) }}">
                                <img  class="profile_picture_img" src="{{ post.author.profile_picture_url }}" alt="profile picture">
                              </a>
                              {% endif %}
                            </div> 
                          </button>
                        </div>
                        <div class="username-postDate">
                          <div class="username"><p>{{ post.author.fullname }}</p></div>
                          <div class="date">
                            <div class="postDate">
                              <a href="#"><p class="datePosted">{{ post.timestamp }}</p></a>
                            </div>
                            <div class="authenticated-user"><i class="bi bi-stars"></i></div>
                          </div>
                        </div>
                      </div>
                      <div class="text-container-side">
                        <div class="text-section">
                          <div class="inner-text-section">
                            <div class="top-section">
                              <a href="#">
                                {% if post.title %}
                                <div class="heading"><h2>{{ post.title }}</h2></div>
                                {% else %}
                                <div class="heading" style="display: none;"></div>
                                {% endif %}
                                <div class="paragraph">
                                  <p>{{ post.body }}</p>
                                </div>
                              </a>
                            </div>
                            {% if post.imageName %}
                            <div class="image-container-side">
                              <a href="#">
                                <img src="{{ url_for('main.serve_image', filename=post.imageName) }}" alt="{{ post.imageName }}">
                              </a>
                            </div>
                            {% else %}
                            <div class="image-container-side" style="display: none;"></div>
                            {% endif %}
                          </div>
                        </div>
                        <div class="bottom-section">
                          <div class="inner-container">
                            <div class="time-section">
                              {% if post.topic %}
                              <div class="button-section">
                                <a href="#"><div>{{ post.topic }}</div></a>
                              </div>
                              {% else %}
                              <div class="button-section" style="display: none;"></div>
                              {% endif %}
                            </div>
                            <div class="bmk-section home-bmk-section">
                              <div><i class="bi bi-bookmark-plus"></i></div>
                              <div><i class="bi bi-dash-circle"></i></div>
                              <div><i class="bi bi-three-dots"></i></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </article>
              {% endfor %}
            </div>
          </div>
        </div>
      </main>
      <div class="secondary-section"></div>
    </div>
  </div>
</section>
{% endblock %}
